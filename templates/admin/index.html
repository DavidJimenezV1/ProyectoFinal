{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block title %}Panel de Control - AdministraciÃ³n{% endblock %}

{% block content %}

<h1 style="color: #2c3e50; margin-bottom: 30px;">
    ğŸ“Š Panel de Control
</h1>

<!-- Dashboard Cards with REAL DATA from Database -->
<div class="dashboard-grid">
    <!-- Productos -->
    <div class="dashboard-card card-orange">
        <div class="card-header">
            <div class="card-icon">ğŸ“¦</div>
            <div>
                <h3 class="card-title">Productos</h3>
            </div>
        </div>
        <p class="card-value">{{ total_productos }}</p>
        <p class="card-description">Productos en catÃ¡logo</p>
        <div class="card-link">
            <a href="/admin/inventario/producto/">Ver todos â†’</a>
        </div>
    </div>

    <!-- Pedidos -->
    <div class="dashboard-card card-blue">
        <div class="card-header">
            <div class="card-icon">ğŸ“‹</div>
            <div>
                <h3 class="card-title">Pedidos</h3>
            </div>
        </div>
        <p class="card-value">{{ pedidos_pendientes }}</p>
        <p class="card-description">Ã“rdenes pendientes</p>
        <div class="card-link">
            <a href="/admin/pedidos/pedido/">Gestionar â†’</a>
        </div>
    </div>

    <!-- Clientes -->
    <div class="dashboard-card card-teal">
        <div class="card-header">
            <div class="card-icon">ğŸ‘¥</div>
            <div>
                <h3 class="card-title">Clientes</h3>
            </div>
        </div>
        <p class="card-value">{{ total_clientes }}</p>
        <p class="card-description">Clientes registrados</p>
        <div class="card-link">
            <a href="/admin/usuarios/usuario/">Ver clientes â†’</a>
        </div>
    </div>

    <!-- Ingresos -->
    <div class="dashboard-card card-red">
        <div class="card-header">
            <div class="card-icon">ğŸ’°</div>
            <div>
                <h3 class="card-title">Ingresos</h3>
            </div>
        </div>
        <p class="card-value">${{ ingresos_totales|floatformat:0 }}</p>
        <p class="card-description">Ingresos totales</p>
        <div class="card-link">
            <a href="/admin/pedidos/pedido/">Ver pedidos â†’</a>
        </div>
    </div>

    <!-- CategorÃ­as -->
    <div class="dashboard-card card-purple">
        <div class="card-header">
            <div class="card-icon">ğŸ·ï¸</div>
            <div>
                <h3 class="card-title">CategorÃ­as</h3>
            </div>
        </div>
        <p class="card-value">{{ total_categorias }}</p>
        <p class="card-description">CategorÃ­as de productos</p>
        <div class="card-link">
            <a href="/admin/catalogo/categoria/">Administrar â†’</a>
        </div>
    </div>

    <!-- Cotizaciones -->
    <div class="dashboard-card card-green">
        <div class="card-header">
            <div class="card-icon">ğŸ“„</div>
            <div>
                <h3 class="card-title">Cotizaciones</h3>
            </div>
        </div>
        <p class="card-value">{{ cotizaciones_pendientes }}</p>
        <p class="card-description">Cotizaciones pendientes</p>
        <div class="card-link">
            <a href="/admin/cotizaciones/cotizacion/">Ver todas â†’</a>
        </div>
    </div>
</div>

<!-- Secciones de AdministraciÃ³n -->
{% if app_list %}
<h2 style="color: #2c3e50; margin-top: 40px; margin-bottom: 20px;">
    ğŸ› ï¸ AdministraciÃ³n del Sistema
</h2>

{% for app in app_list %}
<div class="module">
    <h2>{{ app.name }}</h2>
    <table>
        <tbody>
            {% for model in app.models %}
            <tr>
                <td>
                    <a href="{{ model.admin_url }}">{{ model.name }}</a>
                </td>
                <td>
                    {% if model.add_url %}
                    <a href="{{ model.add_url }}" class="addlink">+ AÃ±adir</a>
                    {% endif %}
                    {% if model.change_url %}
                    <a href="{{ model.change_url }}" class="changelink">âœï¸ Cambiar</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endfor %}
{% endif %}

{% endblock %}